jQuery(document).ready(function(){function a(){var a="";jQuery("td.field_index_searchable_documents span.message").hide(),jQuery("td.field_index_searchable_documents span.loading").show(),jQuery.ajax({url:acs_config.ajax_url,type:"get",dataType:"json",data:{action:"acs_index_searchable_documents",nonce:acs_config.nonce},success:function(b){void 0!==b&&b.data&&b.actions&&"ok"===b.code?(a=b.data.found,jQuery("td.field_index_searchable_documents span.loading").hide(),jQuery("td.field_index_searchable_documents span.message").html(a).show()):void 0!==b&&b.data&&b.actions&&"error"===b.code&&(a='<span class="acs_status_error">'+ACS_LOCALE.error_loading_searchable_documents+": "+b.message+"</span>",jQuery("td.field_index_searchable_documents span.loading").hide(),jQuery("td.field_index_searchable_documents span.message").html(a).show(),clearInterval(p))},error:function(b,c,d){a='<span class="acs_status_error">'+ACS_LOCALE.error_loading_searchable_documents+": "+c+"</span>",jQuery("td.field_index_searchable_documents span.loading").hide(),jQuery("td.field_index_searchable_documents span.message").html(a).show()}})}function b(){var a="";jQuery("td.field_index_site_documents span.message").hide(),jQuery("td.field_index_site_documents span.loading").show(),jQuery.ajax({url:acs_config.ajax_url,type:"get",dataType:"json",data:{action:"acs_index_site_documents",nonce:acs_config.nonce},success:function(b){void 0!==b&&b.data&&b.actions&&"ok"===b.code?(a=b.data.found,jQuery("td.field_index_site_documents span.loading").hide(),jQuery("td.field_index_site_documents span.message").html(a).show()):void 0!==b&&b.data&&b.actions&&"error"===b.code&&(a='<span class="acs_status_error">'+ACS_LOCALE.error_loading_site_documents+": "+b.message+"</span>",jQuery("td.field_index_site_documents span.loading").hide(),jQuery("td.field_index_site_documents span.message").html(a).show(),clearInterval(q))},error:function(b,c,d){a='<span class="acs_status_error">'+ACS_LOCALE.error_loading_site_documents+": "+c+"</span>",jQuery("td.field_index_site_documents span.loading").hide(),jQuery("td.field_index_site_documents span.message").html(a).show()}})}function c(){var a="";jQuery("td.field_index_fields span.message").hide(),jQuery("td.field_index_fields span.loading").show(),jQuery.ajax({url:acs_config.ajax_url,type:"get",dataType:"json",data:{action:"acs_index_fields",nonce:acs_config.nonce},success:function(b){void 0!==b&&b.data&&b.actions&&"ok"===b.code?(a=b.data.found,jQuery("td.field_index_fields span.loading").hide(),jQuery("td.field_index_fields span.message").html(a).show()):void 0!==b&&b.data&&b.actions&&"error"===b.code&&(a='<span class="acs_status_error">'+ACS_LOCALE.error_loading_fields+": "+b.message+"</span>",jQuery("td.field_index_fields span.loading").hide(),jQuery("td.field_index_fields span.message").html(a).show(),clearInterval(r))},error:function(b,c,d){a='<span class="acs_status_error">'+ACS_LOCALE.error_loading_fields+": "+c+"</span>",jQuery("td.field_index_fields span.loading").hide(),jQuery("td.field_index_fields span.message").html(a).show()}})}function d(){var a="";jQuery("td.field_index_status span.message").hide(),jQuery("td.field_index_status span.loading").show(),jQuery.ajax({url:acs_config.ajax_url,type:"get",dataType:"json",data:{action:"acs_index_status",nonce:acs_config.nonce},success:function(b){void 0!==b&&b.data&&b.actions&&"ok"===b.code?(a=b.data.processing?'<span class="acs_status_warning">'+ACS_LOCALE.status_warning+"</span>":b.data.requires_index_documents?'<span class="acs_status_error">'+ACS_LOCALE.status_error+"</span>":'<span class="acs_status_ok">'+ACS_LOCALE.status_ok+"</span>",jQuery("td.field_index_status span.loading").hide(),jQuery("td.field_index_status span.message").html(a).show()):void 0!==b&&b.data&&b.actions&&"error"===b.code&&(a='<span class="acs_status_error">'+ACS_LOCALE.error_loading_status+": "+b.message+"</span>",jQuery("td.field_index_status span.loading").hide(),jQuery("td.field_index_status span.message").html(a).show(),clearInterval(s))},error:function(b,c,d){a='<span class="acs_status_error">'+ACS_LOCALE.error_loading_status+": "+c+"</span>",jQuery("td.field_index_status span.loading").hide(),jQuery("td.field_index_status span.message").html(a).show()}})}function e(a,b){g=!0,jQuery("th.field_index_operation_head span.loading").show(),jQuery("th.field_index_operation_head span.stop").show(),jQuery.ajax({url:acs_config.ajax_url,type:"get",dataType:"json",data:{action:a,nonce:acs_config.nonce,start:b},success:function(b){if(void 0===b||10!==b.data.status&&20!==b.data.status||b.data.found===-1||"ok"!==b.code)jQuery("td.field_index_operation span.message").html("-").show(),g=!1,jQuery("th.field_index_operation_head span.loading").hide(),jQuery("th.field_index_operation_head span.stop").hide();else{switch(b.data.status){case 10:h=ACS_LOCALE.action_sync_in_progress;break;case 20:h=ACS_LOCALE.action_delete_in_progress;break;default:h="-"}jQuery("td.field_index_operation span.message").html(h+" ("+ACS_LOCALE.items+": <strong>"+b.data.found+"</strong>)").show(),g=!0,jQuery("th.field_index_operation_head span.loading").show(),jQuery("th.field_index_operation_head span.stop").show()}jQuery("div.notice").hide(),g&&setTimeout(function(){e(a,!1)},m)},error:function(a,b,c){g=!1,jQuery("th.field_index_operation_head span.loading").hide(),jQuery("th.field_index_operation_head span.stop").hide()}})}function f(){g=!0,jQuery("th.field_index_operation_head span.loading").hide(),jQuery("th.field_index_operation_head span.stop").hide(),jQuery("td.field_index_operation span.message").html(ACS_LOCALE.action_stop_in_progress).show(),jQuery.ajax({url:acs_config.ajax_url,type:"get",dataType:"json",data:{action:"acs_index_documents_stop",nonce:acs_config.nonce},success:function(a){void 0!==a&&"ok"===a.code?(jQuery("td.field_index_operation span.message").html("-").show(),g=!1,jQuery("th.field_index_operation_head span.loading").hide(),jQuery("th.field_index_operation_head span.stop").hide()):(g=!0,jQuery("th.field_index_operation_head span.loading").show(),jQuery("th.field_index_operation_head span.stop").show()),jQuery("div.notice").hide()},error:function(a,b,c){g=!0,jQuery("th.field_index_operation_head span.loading").show(),jQuery("th.field_index_operation_head span.stop").show()}})}var g=!1,h="-",i=6e4,j=6e4,k=9e4,l=4e4,m=2e3,n=jQuery("#acs_option_status").val(),o=jQuery("#acs_option_items").val();if(10===n&&o!==-1?e("acs_index_documents_sync",!0):20===n&&o!==-1?e("acs_index_documents_delete",!0):(jQuery("th.field_index_operation_head span.loading").hide(),jQuery("th.field_index_operation_head span.stop").hide()),jQuery(".check_confirm").submit(function(){var a=jQuery(this).data("message_check_confirm");return confirm(a)}),jQuery(".check_key_empty").submit(function(){var a=jQuery(this).data("message_check_key_empty"),b=jQuery(this).find(".acs_form_action_key").val();if(""===b)return alert(a),!1}),jQuery(".check_update_keys_empty").submit(function(){var a=jQuery(this).data("message_check_update_keys_empty"),b=jQuery(this).find(".acs_form_action_update_id").val(),c=jQuery(this).find(".acs_form_action_update_key").val(),d=jQuery(this).find(".acs_form_action_update_value").val();if(""===b||""===c||""===d)return alert(a),!1}),jQuery(".acs_reload").click(function(){var e=jQuery(this).data("fn");switch(e){case"searchable_documents":a();break;case"site_documents":b();break;case"fields":c();break;case"status":d()}}),jQuery(".acs_stop").click(function(){var a=jQuery(this).data("fn");switch(a){case"stop_operations":f()}}),jQuery(".acs_sync_action").submit(function(){return!g||(alert(ACS_LOCALE.operation_in_progress),!1)}),jQuery(".acs_async_action").click(function(){if(g)alert(ACS_LOCALE.operation_in_progress);else{var a=jQuery(this).data("message");if(confirm(a)){var b=jQuery(this).data("action");e(b,!0)}}}),!jQuery(".field_index_error").length){a(),b(),c(),d();var p=setInterval(function(){a()},i),q=setInterval(function(){b()},j),r=setInterval(function(){c()},k),s=setInterval(function(){d()},l)}});